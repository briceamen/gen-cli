// Code generated by generative-cli. DO NOT EDIT.
package commands

import (
	"context"
	"fmt"

	scalingo "github.com/Scalingo/go-scalingo/v8"
	"github.com/spf13/cobra"

	"generative-cli/config"
	"generative-cli/render"
)

var sCMRepoLinkListCmd = &cobra.Command{
	Use:   "list",
	Short: "SCMRepoLink list",
	RunE: func(cmd *cobra.Command, args []string) error {
		ctx := context.Background()

		authToken, err := config.C.LoadAuth()
		if err != nil {
			fmt.Println(render.RenderError(err))
			return err
		}

		client, err := scalingo.New(ctx, scalingo.ClientConfig{
			APIToken: authToken,
			Region:   config.C.GetRegion(),
		})
		if err != nil {
			fmt.Println(render.RenderError(err))
			return err
		}

		outputFormat, _ := cmd.Flags().GetString("output")

		var allResults []*scalingo.SCMRepoLink
		page := 1
		for {
			results, meta, err := client.SCMRepoLinkList(ctx, scalingo.PaginationOpts{Page: page, PerPage: 100})
			if err != nil {
				fmt.Println(render.RenderError(err))
				return err
			}
			allResults = append(allResults, results...)
			if meta.NextPage == 0 {
				break
			}
			page = meta.NextPage
		}
		result := allResults

		output, err := render.RenderResult(result, render.OutputFormat(outputFormat))
		if err != nil {
			fmt.Println(render.RenderError(err))
			return err
		}
		fmt.Println(output)

		return nil
	},
}

func initsCMRepoLinkListCmd() {

	sCMRepoLinkListCmd.Flags().StringP("output", "o", "table", "Output format (table, json)")
}

var sCMRepoLinkShowCmd = &cobra.Command{
	Use:   "show",
	Short: "SCMRepoLink show",
	RunE: func(cmd *cobra.Command, args []string) error {
		ctx := context.Background()

		authToken, err := config.C.LoadAuth()
		if err != nil {
			fmt.Println(render.RenderError(err))
			return err
		}

		client, err := scalingo.New(ctx, scalingo.ClientConfig{
			APIToken: authToken,
			Region:   config.C.GetRegion(),
		})
		if err != nil {
			fmt.Println(render.RenderError(err))
			return err
		}

		outputFormat, _ := cmd.Flags().GetString("output")

		app, _ := cmd.Flags().GetString("app")

		result, err := client.SCMRepoLinkShow(ctx, app)
		if err != nil {
			fmt.Println(render.RenderError(err))
			return err
		}

		output, err := render.RenderResult(result, render.OutputFormat(outputFormat))
		if err != nil {
			fmt.Println(render.RenderError(err))
			return err
		}
		fmt.Println(output)

		return nil
	},
}

func initsCMRepoLinkShowCmd() {

	sCMRepoLinkShowCmd.Flags().StringP("app", "a", "", "app parameter")

	sCMRepoLinkShowCmd.Flags().StringP("output", "o", "table", "Output format (table, json)")
}

var sCMRepoLinkCreateCmd = &cobra.Command{
	Use:   "create",
	Short: "SCMRepoLink create",
	RunE: func(cmd *cobra.Command, args []string) error {
		ctx := context.Background()

		authToken, err := config.C.LoadAuth()
		if err != nil {
			fmt.Println(render.RenderError(err))
			return err
		}

		client, err := scalingo.New(ctx, scalingo.ClientConfig{
			APIToken: authToken,
			Region:   config.C.GetRegion(),
		})
		if err != nil {
			fmt.Println(render.RenderError(err))
			return err
		}

		outputFormat, _ := cmd.Flags().GetString("output")

		app, _ := cmd.Flags().GetString("app")

		sourceFlag, _ := cmd.Flags().GetString("source")

		branchFlag, _ := cmd.Flags().GetString("branch")

		authIntegrationUUIDFlag, _ := cmd.Flags().GetString("auth-integration-u-u---a-c-r0--")

		autoDeployEnabledFlag, _ := cmd.Flags().GetBool("auto-deploy-enabled")

		deployReviewAppsEnabledFlag, _ := cmd.Flags().GetBool("deploy-review-apps-enabled")

		destroyOnCloseEnabledFlag, _ := cmd.Flags().GetBool("destroy-on-close-enabled")

		hoursBeforeDeleteOnCloseFlag, _ := cmd.Flags().GetUint("hours-before-delete-on-close")

		destroyStaleEnabledFlag, _ := cmd.Flags().GetBool("destroy-stale-enabled")

		hoursBeforeDeleteStaleFlag, _ := cmd.Flags().GetUint("hours-before-delete-stale")

		automaticCreationFromForksAllowedFlag, _ := cmd.Flags().GetBool("automatic-creation-from-forks-allowed")

		params := scalingo.SCMRepoLinkCreateParams{
			Source:                            &sourceFlag,
			Branch:                            &branchFlag,
			AuthIntegrationUUID:               &authIntegrationUUIDFlag,
			AutoDeployEnabled:                 &autoDeployEnabledFlag,
			DeployReviewAppsEnabled:           &deployReviewAppsEnabledFlag,
			DestroyOnCloseEnabled:             &destroyOnCloseEnabledFlag,
			HoursBeforeDeleteOnClose:          &hoursBeforeDeleteOnCloseFlag,
			DestroyStaleEnabled:               &destroyStaleEnabledFlag,
			HoursBeforeDeleteStale:            &hoursBeforeDeleteStaleFlag,
			AutomaticCreationFromForksAllowed: &automaticCreationFromForksAllowedFlag,
		}

		result, err := client.SCMRepoLinkCreate(ctx, app, params)
		if err != nil {
			fmt.Println(render.RenderError(err))
			return err
		}

		output, err := render.RenderResult(result, render.OutputFormat(outputFormat))
		if err != nil {
			fmt.Println(render.RenderError(err))
			return err
		}
		fmt.Println(output)

		return nil
	},
}

func initsCMRepoLinkCreateCmd() {

	sCMRepoLinkCreateCmd.Flags().StringP("app", "a", "", "app parameter")

	sCMRepoLinkCreateCmd.Flags().String("source", "", "Source field")

	sCMRepoLinkCreateCmd.Flags().String("branch", "", "Branch field")

	sCMRepoLinkCreateCmd.Flags().String("auth-integration-u-u---a-c-r0--", "", "AuthIntegrationUUID field")

	sCMRepoLinkCreateCmd.Flags().Bool("auto-deploy-enabled", false, "AutoDeployEnabled field")

	sCMRepoLinkCreateCmd.Flags().Bool("deploy-review-apps-enabled", false, "DeployReviewAppsEnabled field")

	sCMRepoLinkCreateCmd.Flags().Bool("destroy-on-close-enabled", false, "DestroyOnCloseEnabled field")

	sCMRepoLinkCreateCmd.Flags().Uint("hours-before-delete-on-close", 0, "HoursBeforeDeleteOnClose field")

	sCMRepoLinkCreateCmd.Flags().Bool("destroy-stale-enabled", false, "DestroyStaleEnabled field")

	sCMRepoLinkCreateCmd.Flags().Uint("hours-before-delete-stale", 0, "HoursBeforeDeleteStale field")

	sCMRepoLinkCreateCmd.Flags().Bool("automatic-creation-from-forks-allowed", false, "AutomaticCreationFromForksAllowed field")

	sCMRepoLinkCreateCmd.Flags().StringP("output", "o", "table", "Output format (table, json)")
}

var sCMRepoLinkUpdateCmd = &cobra.Command{
	Use:   "update",
	Short: "SCMRepoLink update",
	RunE: func(cmd *cobra.Command, args []string) error {
		ctx := context.Background()

		authToken, err := config.C.LoadAuth()
		if err != nil {
			fmt.Println(render.RenderError(err))
			return err
		}

		client, err := scalingo.New(ctx, scalingo.ClientConfig{
			APIToken: authToken,
			Region:   config.C.GetRegion(),
		})
		if err != nil {
			fmt.Println(render.RenderError(err))
			return err
		}

		outputFormat, _ := cmd.Flags().GetString("output")

		app, _ := cmd.Flags().GetString("app")

		branchFlag, _ := cmd.Flags().GetString("branch")

		autoDeployEnabledFlag, _ := cmd.Flags().GetBool("auto-deploy-enabled")

		deployReviewAppsEnabledFlag, _ := cmd.Flags().GetBool("deploy-review-apps-enabled")

		destroyOnCloseEnabledFlag, _ := cmd.Flags().GetBool("destroy-on-close-enabled")

		hoursBeforeDeleteOnCloseFlag, _ := cmd.Flags().GetUint("hours-before-delete-on-close")

		destroyStaleEnabledFlag, _ := cmd.Flags().GetBool("destroy-stale-enabled")

		hoursBeforeDeleteStaleFlag, _ := cmd.Flags().GetUint("hours-before-delete-stale")

		automaticCreationFromForksAllowedFlag, _ := cmd.Flags().GetBool("automatic-creation-from-forks-allowed")

		params := scalingo.SCMRepoLinkUpdateParams{
			Branch:                            &branchFlag,
			AutoDeployEnabled:                 &autoDeployEnabledFlag,
			DeployReviewAppsEnabled:           &deployReviewAppsEnabledFlag,
			DestroyOnCloseEnabled:             &destroyOnCloseEnabledFlag,
			HoursBeforeDeleteOnClose:          &hoursBeforeDeleteOnCloseFlag,
			DestroyStaleEnabled:               &destroyStaleEnabledFlag,
			HoursBeforeDeleteStale:            &hoursBeforeDeleteStaleFlag,
			AutomaticCreationFromForksAllowed: &automaticCreationFromForksAllowedFlag,
		}

		result, err := client.SCMRepoLinkUpdate(ctx, app, params)
		if err != nil {
			fmt.Println(render.RenderError(err))
			return err
		}

		output, err := render.RenderResult(result, render.OutputFormat(outputFormat))
		if err != nil {
			fmt.Println(render.RenderError(err))
			return err
		}
		fmt.Println(output)

		return nil
	},
}

func initsCMRepoLinkUpdateCmd() {

	sCMRepoLinkUpdateCmd.Flags().StringP("app", "a", "", "app parameter")

	sCMRepoLinkUpdateCmd.Flags().String("branch", "", "Branch field")

	sCMRepoLinkUpdateCmd.Flags().Bool("auto-deploy-enabled", false, "AutoDeployEnabled field")

	sCMRepoLinkUpdateCmd.Flags().Bool("deploy-review-apps-enabled", false, "DeployReviewAppsEnabled field")

	sCMRepoLinkUpdateCmd.Flags().Bool("destroy-on-close-enabled", false, "DestroyOnCloseEnabled field")

	sCMRepoLinkUpdateCmd.Flags().Uint("hours-before-delete-on-close", 0, "HoursBeforeDeleteOnClose field")

	sCMRepoLinkUpdateCmd.Flags().Bool("destroy-stale-enabled", false, "DestroyStaleEnabled field")

	sCMRepoLinkUpdateCmd.Flags().Uint("hours-before-delete-stale", 0, "HoursBeforeDeleteStale field")

	sCMRepoLinkUpdateCmd.Flags().Bool("automatic-creation-from-forks-allowed", false, "AutomaticCreationFromForksAllowed field")

	sCMRepoLinkUpdateCmd.Flags().StringP("output", "o", "table", "Output format (table, json)")
}

var sCMRepoLinkDeleteCmd = &cobra.Command{
	Use:   "delete",
	Short: "SCMRepoLink delete",
	RunE: func(cmd *cobra.Command, args []string) error {
		ctx := context.Background()

		authToken, err := config.C.LoadAuth()
		if err != nil {
			fmt.Println(render.RenderError(err))
			return err
		}

		client, err := scalingo.New(ctx, scalingo.ClientConfig{
			APIToken: authToken,
			Region:   config.C.GetRegion(),
		})
		if err != nil {
			fmt.Println(render.RenderError(err))
			return err
		}

		app, _ := cmd.Flags().GetString("app")

		if err := client.SCMRepoLinkDelete(ctx, app); err != nil {
			fmt.Println(render.RenderError(err))
			return err
		}
		fmt.Println(render.RenderSuccess("delete completed successfully"))

		return nil
	},
}

func initsCMRepoLinkDeleteCmd() {

	sCMRepoLinkDeleteCmd.Flags().StringP("app", "a", "", "app parameter")

	sCMRepoLinkDeleteCmd.Flags().StringP("output", "o", "table", "Output format (table, json)")
}

var sCMRepoLinkPullRequestCmd = &cobra.Command{
	Use:   "pull-request",
	Short: "SCMRepoLink pull-request",
	RunE: func(cmd *cobra.Command, args []string) error {
		ctx := context.Background()

		authToken, err := config.C.LoadAuth()
		if err != nil {
			fmt.Println(render.RenderError(err))
			return err
		}

		client, err := scalingo.New(ctx, scalingo.ClientConfig{
			APIToken: authToken,
			Region:   config.C.GetRegion(),
		})
		if err != nil {
			fmt.Println(render.RenderError(err))
			return err
		}

		outputFormat, _ := cmd.Flags().GetString("output")

		app, _ := cmd.Flags().GetString("app")

		number, _ := cmd.Flags().GetInt("number")

		result, err := client.SCMRepoLinkPullRequest(ctx, app, number)
		if err != nil {
			fmt.Println(render.RenderError(err))
			return err
		}

		output, err := render.RenderResult(result, render.OutputFormat(outputFormat))
		if err != nil {
			fmt.Println(render.RenderError(err))
			return err
		}
		fmt.Println(output)

		return nil
	},
}

func initsCMRepoLinkPullRequestCmd() {

	sCMRepoLinkPullRequestCmd.Flags().StringP("app", "a", "", "app parameter")

	sCMRepoLinkPullRequestCmd.Flags().Int("number", 0, "number parameter")

	sCMRepoLinkPullRequestCmd.Flags().StringP("output", "o", "table", "Output format (table, json)")
}

var sCMRepoLinkManualDeployCmd = &cobra.Command{
	Use:   "manual-deploy",
	Short: "SCMRepoLink manual-deploy",
	RunE: func(cmd *cobra.Command, args []string) error {
		ctx := context.Background()

		authToken, err := config.C.LoadAuth()
		if err != nil {
			fmt.Println(render.RenderError(err))
			return err
		}

		client, err := scalingo.New(ctx, scalingo.ClientConfig{
			APIToken: authToken,
			Region:   config.C.GetRegion(),
		})
		if err != nil {
			fmt.Println(render.RenderError(err))
			return err
		}

		outputFormat, _ := cmd.Flags().GetString("output")

		app, _ := cmd.Flags().GetString("app")

		branch, _ := cmd.Flags().GetString("branch")

		result, err := client.SCMRepoLinkManualDeploy(ctx, app, branch)
		if err != nil {
			fmt.Println(render.RenderError(err))
			return err
		}

		output, err := render.RenderResult(result, render.OutputFormat(outputFormat))
		if err != nil {
			fmt.Println(render.RenderError(err))
			return err
		}
		fmt.Println(output)

		return nil
	},
}

func initsCMRepoLinkManualDeployCmd() {

	sCMRepoLinkManualDeployCmd.Flags().StringP("app", "a", "", "app parameter")

	sCMRepoLinkManualDeployCmd.Flags().String("branch", "", "branch parameter")

	sCMRepoLinkManualDeployCmd.Flags().StringP("output", "o", "table", "Output format (table, json)")
}

var sCMRepoLinkManualReviewAppCmd = &cobra.Command{
	Use:   "manual-review-app",
	Short: "SCMRepoLink manual-review-app",
	RunE: func(cmd *cobra.Command, args []string) error {
		ctx := context.Background()

		authToken, err := config.C.LoadAuth()
		if err != nil {
			fmt.Println(render.RenderError(err))
			return err
		}

		client, err := scalingo.New(ctx, scalingo.ClientConfig{
			APIToken: authToken,
			Region:   config.C.GetRegion(),
		})
		if err != nil {
			fmt.Println(render.RenderError(err))
			return err
		}

		app, _ := cmd.Flags().GetString("app")

		pullRequestID, _ := cmd.Flags().GetString("pull-request-i-d")

		if err := client.SCMRepoLinkManualReviewApp(ctx, app, pullRequestID); err != nil {
			fmt.Println(render.RenderError(err))
			return err
		}
		fmt.Println(render.RenderSuccess("manual-review-app completed successfully"))

		return nil
	},
}

func initsCMRepoLinkManualReviewAppCmd() {

	sCMRepoLinkManualReviewAppCmd.Flags().StringP("app", "a", "", "app parameter")

	sCMRepoLinkManualReviewAppCmd.Flags().String("pull-request-i-d", "", "pullRequestID parameter")

	sCMRepoLinkManualReviewAppCmd.Flags().StringP("output", "o", "table", "Output format (table, json)")
}

var sCMRepoLinkDeploymentsCmd = &cobra.Command{
	Use:   "deployments",
	Short: "SCMRepoLink deployments",
	RunE: func(cmd *cobra.Command, args []string) error {
		ctx := context.Background()

		authToken, err := config.C.LoadAuth()
		if err != nil {
			fmt.Println(render.RenderError(err))
			return err
		}

		client, err := scalingo.New(ctx, scalingo.ClientConfig{
			APIToken: authToken,
			Region:   config.C.GetRegion(),
		})
		if err != nil {
			fmt.Println(render.RenderError(err))
			return err
		}

		outputFormat, _ := cmd.Flags().GetString("output")

		app, _ := cmd.Flags().GetString("app")

		result, err := client.SCMRepoLinkDeployments(ctx, app)
		if err != nil {
			fmt.Println(render.RenderError(err))
			return err
		}

		output, err := render.RenderResult(result, render.OutputFormat(outputFormat))
		if err != nil {
			fmt.Println(render.RenderError(err))
			return err
		}
		fmt.Println(output)

		return nil
	},
}

func initsCMRepoLinkDeploymentsCmd() {

	sCMRepoLinkDeploymentsCmd.Flags().StringP("app", "a", "", "app parameter")

	sCMRepoLinkDeploymentsCmd.Flags().StringP("output", "o", "table", "Output format (table, json)")
}

var sCMRepoLinkReviewAppsCmd = &cobra.Command{
	Use:   "review-apps",
	Short: "SCMRepoLink review-apps",
	RunE: func(cmd *cobra.Command, args []string) error {
		ctx := context.Background()

		authToken, err := config.C.LoadAuth()
		if err != nil {
			fmt.Println(render.RenderError(err))
			return err
		}

		client, err := scalingo.New(ctx, scalingo.ClientConfig{
			APIToken: authToken,
			Region:   config.C.GetRegion(),
		})
		if err != nil {
			fmt.Println(render.RenderError(err))
			return err
		}

		outputFormat, _ := cmd.Flags().GetString("output")

		app, _ := cmd.Flags().GetString("app")

		result, err := client.SCMRepoLinkReviewApps(ctx, app)
		if err != nil {
			fmt.Println(render.RenderError(err))
			return err
		}

		output, err := render.RenderResult(result, render.OutputFormat(outputFormat))
		if err != nil {
			fmt.Println(render.RenderError(err))
			return err
		}
		fmt.Println(output)

		return nil
	},
}

func initsCMRepoLinkReviewAppsCmd() {

	sCMRepoLinkReviewAppsCmd.Flags().StringP("app", "a", "", "app parameter")

	sCMRepoLinkReviewAppsCmd.Flags().StringP("output", "o", "table", "Output format (table, json)")
}

// RegisterSCMRepoLinkServiceCommands registers all generated commands with the parent
func RegisterSCMRepoLinkServiceCommands(parent *cobra.Command) {
	serviceCmd := &cobra.Command{
		Use:   "s_c_m_repo_link",
		Short: "SCMRepoLinkService operations",
	}

	initsCMRepoLinkListCmd()
	serviceCmd.AddCommand(sCMRepoLinkListCmd)

	initsCMRepoLinkShowCmd()
	serviceCmd.AddCommand(sCMRepoLinkShowCmd)

	initsCMRepoLinkCreateCmd()
	serviceCmd.AddCommand(sCMRepoLinkCreateCmd)

	initsCMRepoLinkUpdateCmd()
	serviceCmd.AddCommand(sCMRepoLinkUpdateCmd)

	initsCMRepoLinkDeleteCmd()
	serviceCmd.AddCommand(sCMRepoLinkDeleteCmd)

	initsCMRepoLinkPullRequestCmd()
	serviceCmd.AddCommand(sCMRepoLinkPullRequestCmd)

	initsCMRepoLinkManualDeployCmd()
	serviceCmd.AddCommand(sCMRepoLinkManualDeployCmd)

	initsCMRepoLinkManualReviewAppCmd()
	serviceCmd.AddCommand(sCMRepoLinkManualReviewAppCmd)

	initsCMRepoLinkDeploymentsCmd()
	serviceCmd.AddCommand(sCMRepoLinkDeploymentsCmd)

	initsCMRepoLinkReviewAppsCmd()
	serviceCmd.AddCommand(sCMRepoLinkReviewAppsCmd)

	parent.AddCommand(serviceCmd)
}
