// Code generated by generative-cli. DO NOT EDIT.
package commands

import (
	"context"
	"fmt"

	scalingo "github.com/Scalingo/go-scalingo/v8"
	"github.com/spf13/cobra"

	"generative-cli/config"
	"generative-cli/render"
)

var notifiersListCmd = &cobra.Command{
	Use:   "list",
	Short: "Notifiers list",
	RunE: func(cmd *cobra.Command, args []string) error {
		ctx := context.Background()

		authToken, err := config.C.LoadAuth()
		if err != nil {
			fmt.Println(render.RenderError(err))
			return err
		}

		client, err := scalingo.New(ctx, scalingo.ClientConfig{
			APIToken: authToken,
			Region:   config.C.GetRegion(),
		})
		if err != nil {
			fmt.Println(render.RenderError(err))
			return err
		}

		outputFormat, _ := cmd.Flags().GetString("output")

		app, _ := cmd.Flags().GetString("app")

		result, err := client.NotifiersList(ctx, app)
		if err != nil {
			fmt.Println(render.RenderError(err))
			return err
		}

		output, err := render.RenderResult(result, render.OutputFormat(outputFormat))
		if err != nil {
			fmt.Println(render.RenderError(err))
			return err
		}
		fmt.Println(output)

		return nil
	},
}

func initnotifiersListCmd() {

	notifiersListCmd.Flags().String("app", "", "app parameter")

	notifiersListCmd.Flags().StringP("output", "o", "table", "Output format (table, json)")
}

var notifiersNotifierProvisionCmd = &cobra.Command{
	Use:   "notifier-provision",
	Short: "Notifiers notifier-provision",
	RunE: func(cmd *cobra.Command, args []string) error {
		ctx := context.Background()

		authToken, err := config.C.LoadAuth()
		if err != nil {
			fmt.Println(render.RenderError(err))
			return err
		}

		client, err := scalingo.New(ctx, scalingo.ClientConfig{
			APIToken: authToken,
			Region:   config.C.GetRegion(),
		})
		if err != nil {
			fmt.Println(render.RenderError(err))
			return err
		}

		outputFormat, _ := cmd.Flags().GetString("output")

		app, _ := cmd.Flags().GetString("app")

		activeFlag, _ := cmd.Flags().GetBool("active")

		nameFlag, _ := cmd.Flags().GetString("name")

		sendAllEventsFlag, _ := cmd.Flags().GetBool("send-all-events")

		sendAllAlertsFlag, _ := cmd.Flags().GetBool("send-all-alerts")

		selectedEventIDsFlag, _ := cmd.Flags().GetStringSlice("selected-event---a-c-r0--s")

		platformIDFlag, _ := cmd.Flags().GetString("platform---a-c-r0--")

		phoneNumberFlag, _ := cmd.Flags().GetString("phone-number")

		emailsFlag, _ := cmd.Flags().GetStringSlice("emails")

		userIDsFlag, _ := cmd.Flags().GetStringSlice("user---a-c-r0--s")

		webhookURLFlag, _ := cmd.Flags().GetString("webhook---a-c-r1--")

		params := scalingo.NotifierParams{
			Active:           &activeFlag,
			Name:             nameFlag,
			SendAllEvents:    &sendAllEventsFlag,
			SendAllAlerts:    &sendAllAlertsFlag,
			SelectedEventIDs: selectedEventIDsFlag,
			PlatformID:       platformIDFlag,
			PhoneNumber:      phoneNumberFlag,
			Emails:           emailsFlag,
			UserIDs:          userIDsFlag,
			WebhookURL:       webhookURLFlag,
		}

		result, err := client.NotifierProvision(ctx, app, params)
		if err != nil {
			fmt.Println(render.RenderError(err))
			return err
		}

		output, err := render.RenderResult(result, render.OutputFormat(outputFormat))
		if err != nil {
			fmt.Println(render.RenderError(err))
			return err
		}
		fmt.Println(output)

		return nil
	},
}

func initnotifiersNotifierProvisionCmd() {

	notifiersNotifierProvisionCmd.Flags().String("app", "", "app parameter")

	notifiersNotifierProvisionCmd.Flags().Bool("active", false, "Active field")

	notifiersNotifierProvisionCmd.Flags().String("name", "", "Name field")

	notifiersNotifierProvisionCmd.Flags().Bool("send-all-events", false, "SendAllEvents field")

	notifiersNotifierProvisionCmd.Flags().Bool("send-all-alerts", false, "SendAllAlerts field")

	notifiersNotifierProvisionCmd.Flags().StringSlice("selected-event---a-c-r0--s", nil, "SelectedEventIDs field")

	notifiersNotifierProvisionCmd.Flags().String("platform---a-c-r0--", "", "PlatformID field")

	notifiersNotifierProvisionCmd.Flags().String("phone-number", "", "PhoneNumber field")

	notifiersNotifierProvisionCmd.Flags().StringSlice("emails", nil, "Emails field")

	notifiersNotifierProvisionCmd.Flags().StringSlice("user---a-c-r0--s", nil, "UserIDs field")

	notifiersNotifierProvisionCmd.Flags().String("webhook---a-c-r1--", "", "WebhookURL field")

	notifiersNotifierProvisionCmd.Flags().StringP("output", "o", "table", "Output format (table, json)")
}

var notifiersNotifierByIDCmd = &cobra.Command{
	Use:   "notifier-by-i-d",
	Short: "Notifiers notifier-by-i-d",
	RunE: func(cmd *cobra.Command, args []string) error {
		ctx := context.Background()

		authToken, err := config.C.LoadAuth()
		if err != nil {
			fmt.Println(render.RenderError(err))
			return err
		}

		client, err := scalingo.New(ctx, scalingo.ClientConfig{
			APIToken: authToken,
			Region:   config.C.GetRegion(),
		})
		if err != nil {
			fmt.Println(render.RenderError(err))
			return err
		}

		outputFormat, _ := cmd.Flags().GetString("output")

		app, _ := cmd.Flags().GetString("app")

		iD, _ := cmd.Flags().GetString("i-d")

		result, err := client.NotifierByID(ctx, app, iD)
		if err != nil {
			fmt.Println(render.RenderError(err))
			return err
		}

		output, err := render.RenderResult(result, render.OutputFormat(outputFormat))
		if err != nil {
			fmt.Println(render.RenderError(err))
			return err
		}
		fmt.Println(output)

		return nil
	},
}

func initnotifiersNotifierByIDCmd() {

	notifiersNotifierByIDCmd.Flags().String("app", "", "app parameter")

	notifiersNotifierByIDCmd.Flags().String("i-d", "", "ID parameter")

	notifiersNotifierByIDCmd.Flags().StringP("output", "o", "table", "Output format (table, json)")
}

var notifiersNotifierUpdateCmd = &cobra.Command{
	Use:   "notifier-update",
	Short: "Notifiers notifier-update",
	RunE: func(cmd *cobra.Command, args []string) error {
		ctx := context.Background()

		authToken, err := config.C.LoadAuth()
		if err != nil {
			fmt.Println(render.RenderError(err))
			return err
		}

		client, err := scalingo.New(ctx, scalingo.ClientConfig{
			APIToken: authToken,
			Region:   config.C.GetRegion(),
		})
		if err != nil {
			fmt.Println(render.RenderError(err))
			return err
		}

		outputFormat, _ := cmd.Flags().GetString("output")

		app, _ := cmd.Flags().GetString("app")

		iD, _ := cmd.Flags().GetString("i-d")

		activeFlag, _ := cmd.Flags().GetBool("active")

		nameFlag, _ := cmd.Flags().GetString("name")

		sendAllEventsFlag, _ := cmd.Flags().GetBool("send-all-events")

		sendAllAlertsFlag, _ := cmd.Flags().GetBool("send-all-alerts")

		selectedEventIDsFlag, _ := cmd.Flags().GetStringSlice("selected-event---a-c-r0--s")

		platformIDFlag, _ := cmd.Flags().GetString("platform---a-c-r0--")

		phoneNumberFlag, _ := cmd.Flags().GetString("phone-number")

		emailsFlag, _ := cmd.Flags().GetStringSlice("emails")

		userIDsFlag, _ := cmd.Flags().GetStringSlice("user---a-c-r0--s")

		webhookURLFlag, _ := cmd.Flags().GetString("webhook---a-c-r1--")

		params := scalingo.NotifierParams{
			Active:           &activeFlag,
			Name:             nameFlag,
			SendAllEvents:    &sendAllEventsFlag,
			SendAllAlerts:    &sendAllAlertsFlag,
			SelectedEventIDs: selectedEventIDsFlag,
			PlatformID:       platformIDFlag,
			PhoneNumber:      phoneNumberFlag,
			Emails:           emailsFlag,
			UserIDs:          userIDsFlag,
			WebhookURL:       webhookURLFlag,
		}

		result, err := client.NotifierUpdate(ctx, app, iD, params)
		if err != nil {
			fmt.Println(render.RenderError(err))
			return err
		}

		output, err := render.RenderResult(result, render.OutputFormat(outputFormat))
		if err != nil {
			fmt.Println(render.RenderError(err))
			return err
		}
		fmt.Println(output)

		return nil
	},
}

func initnotifiersNotifierUpdateCmd() {

	notifiersNotifierUpdateCmd.Flags().String("app", "", "app parameter")

	notifiersNotifierUpdateCmd.Flags().String("i-d", "", "ID parameter")

	notifiersNotifierUpdateCmd.Flags().Bool("active", false, "Active field")

	notifiersNotifierUpdateCmd.Flags().String("name", "", "Name field")

	notifiersNotifierUpdateCmd.Flags().Bool("send-all-events", false, "SendAllEvents field")

	notifiersNotifierUpdateCmd.Flags().Bool("send-all-alerts", false, "SendAllAlerts field")

	notifiersNotifierUpdateCmd.Flags().StringSlice("selected-event---a-c-r0--s", nil, "SelectedEventIDs field")

	notifiersNotifierUpdateCmd.Flags().String("platform---a-c-r0--", "", "PlatformID field")

	notifiersNotifierUpdateCmd.Flags().String("phone-number", "", "PhoneNumber field")

	notifiersNotifierUpdateCmd.Flags().StringSlice("emails", nil, "Emails field")

	notifiersNotifierUpdateCmd.Flags().StringSlice("user---a-c-r0--s", nil, "UserIDs field")

	notifiersNotifierUpdateCmd.Flags().String("webhook---a-c-r1--", "", "WebhookURL field")

	notifiersNotifierUpdateCmd.Flags().StringP("output", "o", "table", "Output format (table, json)")
}

var notifiersNotifierDestroyCmd = &cobra.Command{
	Use:   "notifier-destroy",
	Short: "Notifiers notifier-destroy",
	RunE: func(cmd *cobra.Command, args []string) error {
		ctx := context.Background()

		authToken, err := config.C.LoadAuth()
		if err != nil {
			fmt.Println(render.RenderError(err))
			return err
		}

		client, err := scalingo.New(ctx, scalingo.ClientConfig{
			APIToken: authToken,
			Region:   config.C.GetRegion(),
		})
		if err != nil {
			fmt.Println(render.RenderError(err))
			return err
		}

		app, _ := cmd.Flags().GetString("app")

		iD, _ := cmd.Flags().GetString("i-d")

		if err := client.NotifierDestroy(ctx, app, iD); err != nil {
			fmt.Println(render.RenderError(err))
			return err
		}
		fmt.Println(render.RenderSuccess("notifier-destroy completed successfully"))

		return nil
	},
}

func initnotifiersNotifierDestroyCmd() {

	notifiersNotifierDestroyCmd.Flags().String("app", "", "app parameter")

	notifiersNotifierDestroyCmd.Flags().String("i-d", "", "ID parameter")

	notifiersNotifierDestroyCmd.Flags().StringP("output", "o", "table", "Output format (table, json)")
}

// RegisterNotifiersServiceCommands registers all generated commands with the parent
func RegisterNotifiersServiceCommands(parent *cobra.Command) {
	serviceCmd := &cobra.Command{
		Use:   "notifiers",
		Short: "NotifiersService operations",
	}

	initnotifiersListCmd()
	serviceCmd.AddCommand(notifiersListCmd)

	initnotifiersNotifierProvisionCmd()
	serviceCmd.AddCommand(notifiersNotifierProvisionCmd)

	initnotifiersNotifierByIDCmd()
	serviceCmd.AddCommand(notifiersNotifierByIDCmd)

	initnotifiersNotifierUpdateCmd()
	serviceCmd.AddCommand(notifiersNotifierUpdateCmd)

	initnotifiersNotifierDestroyCmd()
	serviceCmd.AddCommand(notifiersNotifierDestroyCmd)

	parent.AddCommand(serviceCmd)
}
